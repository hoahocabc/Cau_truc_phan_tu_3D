<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>M√¥ Ph·ªèng H√≥a H·ªçc 3D</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- N√∫t m·ªü Menu tr√™n Mobile -->
    <button id="mobile-menu-btn">‚ò∞</button>

    <!-- L·ªõp ph·ªß m·ªù ƒë·ªÉ click ƒë√≥ng menu (Overlay) -->
    <div id="menu-overlay"></div>

    <!-- Sidebar UI -->
    <div id="ui-container">
        <div class="app-header">
            <h1 id="header-title">C·∫§U TR√öC PH√ÇN T·ª¨ 3D</h1>
            <span id="header-sub">H√ìA H·ªåC ABC</span>
            <!-- N√∫t ƒë√≥ng menu (X) -->
            <button id="close-menu-btn">‚úï</button>
        </div>
        
        <div class="scroll-area">
            <!-- Ng√¥n ng·ªØ -->
            <div class="control-row">
                <select id="language-select" class="form-select">
                    <option value="vi" selected>üáªüá≥ Ti·∫øng Vi·ªát</option>
                    <option value="en">üá¨üáß English</option>
                </select>
            </div>

            <!-- Ch·ªçn ch·∫•t -->
            <div class="control-row">
                <select id="molecule-select" class="form-select large-select">
                    <option value="" disabled selected>-- Ch·ªçn ph√¢n t·ª≠ --</option>
                    
                    <optgroup id="opt-inorganic" label="Inorganic substances">
                        <option value="H2">H‚ÇÇ (Hydrogen)</option>
                        <option value="N2">N‚ÇÇ (Nitrogen)</option>
                        <option value="O2">O‚ÇÇ (Oxygen)</option>
                        <option value="F2">F‚ÇÇ (Fluorine)</option>
                        <option value="Cl2">Cl‚ÇÇ (Chlorine)</option>
                        <option value="CO2">CO‚ÇÇ (Carbon dioxide)</option>
                        <option value="SO2">SO‚ÇÇ (Sulfur dioxide)</option>
                        <option value="HCl">HCl (Hydrogen chloride)</option>
                        <option value="H2O">H‚ÇÇO (Water)</option>
                        <option value="H2S">H‚ÇÇS (Hydrogen sulfide)</option>
                        <option value="NH3">NH‚ÇÉ (Ammonia)</option>
                        <option value="H2SO4">H‚ÇÇSO‚ÇÑ (Sulfuric acid)</option>
                        <option value="HNO3">HNO‚ÇÉ (Nitric acid)</option>
                        <option value="H3PO4">H‚ÇÉPO‚ÇÑ (Phosphoric acid)</option>
                    </optgroup>

                    <optgroup id="opt-hydrocarbons" label="Hydrocarbons">
                        <option value="CH4">CH‚ÇÑ (Methane)</option>
                        <option value="C2H6">C‚ÇÇH‚ÇÜ (Ethane)</option>
                        <option value="C3H8">C‚ÇÉH‚Çà (Propane)</option>
                        <option value="nC4H10">n-C‚ÇÑH‚ÇÅ‚ÇÄ (Butane)</option>
                        <option value="isoC4H10">iso-C‚ÇÑH‚ÇÅ‚ÇÄ (2-Methylpropane)</option>
                        <option value="C2H4">C‚ÇÇH‚ÇÑ (Ethene)</option>
                        <option value="C2H2">C‚ÇÇH‚ÇÇ (Ethyne)</option>
                        <option value="C3H6_open">C‚ÇÉH‚ÇÜ (Propene)</option>
                        <option value="C3H6_ring">C‚ÇÉH‚ÇÜ (Cyclopropane)</option>
                        <option value="cis_but_2_ene">C‚ÇÑH‚Çà (cis-But-2-ene)</option>
                        <option value="trans_but_2_ene">C‚ÇÑH‚Çà (trans-But-2-ene)</option>
                        <option value="but_1_3_diene">C‚ÇÑH‚ÇÜ (Buta-1,3-diene)</option>
                        <option value="isoprene">C‚ÇÖH‚Çà (2-Methylbuta-1,3-diene)</option>
                        <option value="C6H6">C‚ÇÜH‚ÇÜ (Benzene)</option>
                        <option value="C6H5CH3">C‚ÇáH‚Çà (Methylbenzene)</option>
                        <option value="styrene">C‚ÇàH‚Çà (Ethenylbenzene)</option>
                    </optgroup>

                    <optgroup id="opt-halogen" label="Halogen derivatives">
                        <option value="CH3Cl">CH‚ÇÉCl (Chloromethane)</option>
                        <option value="C2H5Cl">C‚ÇÇH‚ÇÖCl (Chloroethane)</option>
                    </optgroup>

                    <optgroup id="opt-alcohols" label="Alcohols & Phenols">
                        <option value="CH3OH">CH‚ÇÉOH (Methanol)</option>
                        <option value="C2H5OH">C‚ÇÇH‚ÇÖOH (Ethanol)</option>
                        <option value="C3H5(OH)3">C‚ÇÉH‚ÇàO‚ÇÉ (Propane-1,2,3-triol)</option>
                        <option value="C6H5OH">C‚ÇÜH‚ÇÖOH (Phenol)</option>
                    </optgroup>

                    <optgroup id="opt-aldehydes" label="Aldehydes & Ketones">
                        <option value="HCHO">HCHO (Methanal)</option>
                        <option value="CH3CHO">CH‚ÇÉCHO (Ethanal)</option>
                        <option value="CH3COCH3">C‚ÇÉH‚ÇÜO (Propan-2-one)</option>
                    </optgroup>

                    <optgroup id="opt-acids" label="Carboxylic acids">
                        <option value="HCOOH">HCOOH (Methanoic acid)</option>
                        <option value="CH3COOH">CH‚ÇÉCOOH (Ethanoic acid)</option>
                        <option value="CH2=CHCOOH">C‚ÇÇH‚ÇÉCOOH (Propenoic acid)</option>
                        <option value="lactic_acid">C‚ÇÉH‚ÇÜO‚ÇÉ (Lactic acid)</option>
                        <option value="benzoic_acid">C‚ÇÜH‚ÇÖCOOH (Benzoic acid)</option>
                        <option value="oxalic_acid">H‚ÇÇC‚ÇÇO‚ÇÑ (Oxalic acid)</option>
                        <option value="malonic_acid">C‚ÇÉH‚ÇÑO‚ÇÑ (Malonic acid)</option>
                        <option value="succinic_acid">C‚ÇÑH‚ÇÜO‚ÇÑ (Succinic acid)</option>
                        <option value="citric_acid">C‚ÇÜH‚ÇàO‚Çá (Citric acid)</option>
                    </optgroup>

                    <optgroup id="opt-esters" label="Esters">
                        <option value="HCOOCH3">HCOOCH‚ÇÉ (Methyl methanoate)</option>
                        <option value="CH3COOCH3">CH‚ÇÉCOOCH‚ÇÉ (Methyl ethanoate)</option>
                        <option value="CH3COOC2H5">CH‚ÇÉCOOC‚ÇÇH‚ÇÖ (Ethyl ethanoate)</option>
                        <option value="isoamyl_acetate">CH‚ÇÉCOOC‚ÇÖH‚ÇÅ‚ÇÅ (Isoamyl acetate)</option>
                    </optgroup>

                    <optgroup id="opt-amines" label="Amines">
                        <option value="CH3NH2">CH‚ÇÉNH‚ÇÇ (Methanamine)</option>
                        <option value="C2H5NH2">C‚ÇÇH‚ÇÖNH‚ÇÇ (Ethanamine)</option>
                        <option value="CH3NHCH3">C‚ÇÇH‚ÇáN (N-Methylmethanamine)</option>
                        <option value="(CH3)3N">C‚ÇÉH‚ÇâN (N,N-Dimethylmethanamine)</option>
                        <option value="C6H5NH2">C‚ÇÜH‚ÇÖNH‚ÇÇ (Benzenamine)</option>
                    </optgroup>

                    <optgroup id="opt-carbs" label="Carbohydrates">
                        <option value="alpha_glucose">C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ (Œ±-D-Glucopyranose)</option>
                        <option value="beta_glucose">C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ (Œ≤-D-Glucopyranose)</option>
                        <option value="alpha_fructose">C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ (Œ±-D-Fructofuranose)</option>
                        <option value="beta_fructose">C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ (Œ≤-D-Fructofuranose)</option>
                    </optgroup>

                    <optgroup id="opt-amino-acids" label="Amino Acids">
                        <option value="Gly">Gly (Glycine)</option>
                        <option value="Ala">Ala (Alanine)</option>
                        <option value="Val">Val (Valine)</option>
                        <option value="Lys">Lys (Lysine)</option>
                        <option value="Glu">Glu (Glutamic acid)</option>
                    </optgroup>
                </select>
            </div>
            
            <!-- N√∫t ƒëi·ªÅu khi·ªÉn -->
            <div class="button-grid">
                <button id="toggle-rotate" class="btn-toggle active">Xoay T·ª± ƒê·ªông</button>
                <button id="toggle-labels" class="btn-toggle active">Nh√£n Nguy√™n T·ªë</button>
            </div>

            <!-- Khu v·ª±c C√¥ng c·ª• ·∫£nh (Ch·ªâ hi·ªán tr√™n Desktop) -->
            <div class="image-tools-box desktop-only">
                <div class="control-row">
                    <select id="snap-res" class="form-select">
                        <option value="current" selected>M√†n h√¨nh hi·ªán t·∫°i</option>
                        <option value="1280x720">HD 720p</option>
                        <option value="1920x1080">Full HD 1080p</option>
                        <option value="3840x2160">4K UHD</option>
                    </select>
                </div>
                <div class="control-row">
                    <select id="snap-format" class="form-select">
                        <option value="png" selected>PNG</option>
                        <option value="jpg">JPG</option>
                    </select>
                </div>
                <div class="control-row">
                    <button id="btn-save-image" class="btn-primary">L∆∞u ·∫¢nh</button>
                </div>
            </div>
        </div>

        <!-- Footer Instructions -->
        <div class="instructions" id="instructions-panel">
            <div class="ins-row">
                <kbd id="key-left">Chu·ªôt tr√°i</kbd> <span id="ins-left-text">Xoay g√≥c nh√¨n</span>
            </div>
            <div class="ins-row">
                <kbd id="key-wheel">Con lƒÉn</kbd> <span id="ins-wheel-text">Thu / Ph√≥ng</span>
            </div>
            <div class="ins-row">
                <kbd id="key-right">Chu·ªôt ph·∫£i</kbd> <span id="ins-right-text">Di chuy·ªÉn</span>
            </div>
            <!-- Mobile only instructions -->
            <div class="ins-row mobile-only">
                <kbd>1 ng√≥n</kbd> <span>Xoay</span> | <kbd>2 ng√≥n</kbd> <span>Zoom/Di chuy·ªÉn</span>
            </div>
        </div>
    </div>
    
    <!-- N√∫t ch·ª•p nhanh tr√™n mobile -->
    <button id="quick-snap-btn" class="mobile-only">üì∏</button>

    <!-- POPUP L∆ØU ·∫¢NH CHO MOBILE -->
    <div id="save-popup-overlay" class="hidden">
        <div class="save-popup">
            <h3>L∆∞u ·∫¢nh</h3>
            <div class="control-row">
                <label>K√≠ch th∆∞·ªõc:</label>
                <select id="mobile-snap-res" class="form-select">
                    <option value="current" selected>M√†n h√¨nh hi·ªán t·∫°i</option>
                    <option value="1280x720">HD 720p</option>
                    <option value="1920x1080">Full HD 1080p</option>
                </select>
            </div>
            <div class="control-row">
                <label>ƒê·ªãnh d·∫°ng:</label>
                <select id="mobile-snap-format" class="form-select">
                    <option value="png" selected>PNG (Trong su·ªët)</option>
                    <option value="jpg">JPG (N·ªÅn ƒëen)</option>
                </select>
            </div>
            <div class="popup-actions">
                <button id="mobile-cancel-btn" class="btn-toggle">H·ªßy</button>
                <button id="mobile-save-btn" class="btn-primary">T·∫£i V·ªÅ</button>
            </div>
        </div>
    </div>

    <div id="canvas-container"></div>
    <script src="sketch.js"></script>
</body>
</html>